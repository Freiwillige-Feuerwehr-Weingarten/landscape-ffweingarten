---
# Playbook example for Firebird

- hosts: dbsrv
  remote_user: ffweingarten
  become: true
  become_user: root
  gather_facts: true
  vars:
    mountpoint: "/mnt/firebird_backup"
    sysdba_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64636135633164336135666535396535353533363139376632356335343765303864613338323466
          3130373634613731646165323438616338303963656334620a636630666166656235333263333161
          63376562343835656565363434336134333564653566613061326535396164643963663766623636
          6434363037363565640a626133633265666432656565383634336238636231303338616536623366
          6166
  roles:
   - role: devsec.hardening.ssh_hardening
     sftp_enabled: true
   - role: devsec.hardening.os_hardening
   - role: geerlingguy.ntp
     vars:
        ntp_timezone: Europe/Berlin
   - role: nfs
     vars:
        permissions: "644"
        nfs_src: stark.feuerwehr.weingarten.local:/Firebird_Backup
        options: vers=4,rw,rsize=8192,wsize=8192,timeo=14,intr
   - role: firebird
